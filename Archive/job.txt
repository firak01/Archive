clearscreen.
run langKernel(). //Deklariere die "Language Konstanten."
set langCallerName to "job".
run DEBUG_Caller(langCallerName).

//##################################
//### Starte von der Startbahn 
//##################################
run libKerbal(). //Soll die globalen Variablen für den Planeten deklarieren.
run lib7p08().   //Deklariere die "Flugzeug Konstanten"

//### UNIT - TESTS
//run testLIST_count().
//run testLIST_intersection().
//run testLIST_contains().
//run testOBJECT_isList().
//wait 10.
//run testPrg().
//wait 30.

//TODO: 2 Zeilen Footer , davon 1 Trennlienie und von der Terminalgröße ausgehen.
//run subConsoleFooter().

//Merke: Paramter sind 
set args TO LIST().
set args:ADD to libLaunchSpeedMin.
set args:ADD to libLaunchGroundSteeringSpeedMax.
set args:ADD to libTargKscRunEnd.
set args:ADD to libTargPolNor.

LOCK THROTTLE to 1.      //Vollschub
set prgPlaneStart to LIST(). //Rückgabewert, muss hier schon deklariert werden.
run prgPlaneStart (args,prgPlaneStart).
run DEBUG_print1("Startphase beendet. Manuell übernehmen. Zum Hochziehen.").
UNLOCK STEERING.

//Prüfe den Status des Programms
//a) Rückgabwerte entgegennehmen.
set iIndex to -1.
set prgPlaneStartStatus to "0".
for argReturn IN prgPlaneStart {
	run DEBUG_print1("Wert: " + argReturn). //argReturn gilt nur innerhalb der Schleife...
	set iIndex to iIndex + 1.
	if iIndex = 0 {
		set prgPlaneStartStatus to argReturn.		
		}.
	if iIndex = 1 {		
		}.
	if iIndex = 2 {
		}.
	}.
	
//b) Rückgabwerte analysieren.
if prgPlaneStartStatus = "1" {
	run DEBUG_print1("Startgeschwindigkeit erreicht. Ziehe automatisiert hoch.").
	
	//Eingabearray leeren.
	set iCount to args:LENGTH.
	for argIn In args {
		set iCount to iCount -1.
		set args:Remove to iCount.
	}
	//auch dass geht nicht args:CLEAR. //KEIN SET DAVOR
	set args:add To libGroundSpeedMax. 
	set args:add TO libTargPolNor. //Nordpol als Ziel
	
	//Nun auf Höhe gehen und das Ziel ansteuern.
	set prgPlaneFligth to LIST(). //Rückgabewert
	run prgPlaneFlight(args,prgPlaneFlight).
	
	}. //END START ERFOLGREICH
if prgPlaneStartStatus = "0" {
	run DEBUG_print("Nicht gestartet.").
	}.
if prgPlaneStartStatus = "-99" {
	run DEBUG_print( "ERROR beim Start.").
	}.





